{% extends "layout.html" %}
{% import "macros.html" as macro %}

{% block content %}

    {% if current_user.is_authenticated %}
        <h1 class="mt-2 mb-4"> Welcome, {{ current_user.fullname }}! </h1>
    {% else %}
        <h1 class="mt-2 mb-4"> Home Page </h1>
    {% endif %}

    {% for post in posts %}
        <article class="media content-section">
            {{ macro.render_post(post, datetime, tz) }}
        </article>
    {% endfor %}

    <div class="container mt-6">
      <ul class="pagination justify-content-center">
        {% for page in posts.iter_pages(left_edge=1,right_edge=1, left_current=2, right_current=2) %}
          {% if page %}
            {% if posts.page == page %}
            <li class="page-item active"><a class="page-link" href="{{ url_for('home', page=page) }}">{{ page }}</a></li>
            {% else %}
            <li class="page-item"><a class="page-link" href="{{ url_for('home', page=page) }}">{{ page }}</a></li>
            {% endif %}
          {% else %}
          <li class="page-item disabled"><span class="page-link">...</span></li>
          {% endif %}
        {% endfor %}
      </ul>
    </div>
{% endblock %}